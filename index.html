<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Notification Demo</title>
</head>
<body>
  <h2>Notification Experiment</h2>

  <button onclick="request()">Allow Notifications</button>
  <button onclick="normal()">Normal Notification</button>
  <button onclick="hacked()"> Hacked Demo</button>

  <script>
    function request() {
      Notification.requestPermission();
    }

    function normal() {
      if (Notification.permission === "granted") {
        new Notification("School Demo", {
          body: "This is a normal notification"
        });
      }
    }

    function hacked() {
      if (Notification.permission !== "granted") {
        alert("Allow notifications first");
        return;
      }

      let count = 0;
      const max = 50;

      const interval = setInterval(() => {
        count++;

        new Notification("⚠️ SECURITY ALERT", {
          body: `Unusual activity detected (${count}/${max})`
        });

        if (count >= max) {
          clearInterval(interval);
        }
      }, 1200); // 50 notifications in ~1 minute
    }
  </script>
</body>
</html>

