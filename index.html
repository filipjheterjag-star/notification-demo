<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notification Demo</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f1f5f9;
}
.card{
  max-width:420px;
  margin:60px auto;
  background:#fff;
  padding:24px;
  border-radius:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.15);
}
h2{margin-top:0}
button,input{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:8px;
  font-size:15px;
  border:none;
}
.blue{background:#2563eb;color:#fff}
.green{background:#10b981;color:#fff}
.red{background:#ef4444;color:#fff}
.gray{background:#6b7280;color:#fff}
.info{background:#0ea5e9;color:#fff}
.notice{
  background:#fde68a;
  color:#92400e;
  padding:10px;
  border-radius:8px;
  font-size:13px;
  margin-bottom:10px;
  display:none;
}
.progress{
  height:12px;
  background:#e5e7eb;
  border-radius:6px;
  overflow:hidden;
  margin-top:12px;
}
.bar{
  height:100%;
  width:0%;
  background:#ef4444;
}
.status{
  font-size:13px;
  margin-top:10px;
  opacity:.7;
}

/* PANEL */
.panel{
  position:fixed;
  right:20px;
  top:20px;
  width:300px;
  background:#fff;
  border-radius:16px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  padding:20px;
  display:none;
  z-index:999;
}
.panel h3{margin-top:0}

/* TOAST */
#toastArea{
  position:fixed;
  bottom:20px;
  right:20px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.toast{
  background:#111827;
  color:#fff;
  padding:12px;
  border-radius:10px;
  width:300px;
}

/* LOCKOUT */
#lockout{
  position:fixed;
  inset:0;
  background:#020617;
  color:#fff;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  font-size:22px;
  z-index:2000;
}
</style>
</head>

<body>

<div class="card">
  <h2>üîî Notification Demo</h2>

  <div class="notice" id="windowsNotice">
    Windows detected. Using visual notification preview.
  </div>

  <button class="info" onclick="showInfo()">‚ÑπÔ∏è What is this demo?</button>
  <button class="info" onclick="showWhy()">‚ùì Why didn‚Äôt I get a notification?</button>
  <button class="info" onclick="togglePanel()">‚öôÔ∏è Open Panel</button>

  <button class="blue" onclick="requestPermission()">Allow Notifications</button>

  <input id="msgInput" placeholder="Test notification">
  <button class="green" onclick="sendOne()">Send Notification</button>

  <button class="red" onclick="startHack()">‚ö†Ô∏è Fake Hacked Demo</button>
  <button class="gray" onclick="stopAll()">üõë Stop</button>

  <div class="progress"><div class="bar" id="bar"></div></div>
  <div class="status" id="status">Ready</div>
</div>

<!-- PANEL -->
<div class="panel" id="panel">
  <button class="gray" onclick="togglePanel()">‚úñ Close</button>
  <button class="info" onclick="toggleDark()">üåô Toggle Dark Mode</button>
  <p style="margin-top:10px;font-size:13px;opacity:.7">
    Demo controls & settings will live here.
  </p>
</div>

<!-- LOCKOUT -->
<div id="lockout">
  <div>üîí SYSTEM LOCKED</div>
  <div id="countdown">10</div>
</div>

<div id="toastArea"></div>

<script>
/* OS */
const isWindows = /Win/i.test(navigator.userAgent);
if(isWindows) windowsNotice.style.display="block";

/* PANEL */
function togglePanel(){
  panel.style.display = panel.style.display==="block"?"none":"block";
}
function toggleDark(){
  document.body.style.background =
    document.body.style.background === "rgb(15, 23, 42)" ? "#f1f5f9" : "#0f172a";
}

/* INFO */
function showInfo(){
  alert("This demo shows how browser notifications can be abused for social engineering. No real harm is done.");
}
function showWhy(){
  alert("Notifications may be blocked by your browser, OS, or you're on Windows where previews are simulated.");
}

/* NOTIFICATIONS */
function toast(t,b){
  const d=document.createElement("div");
  d.className="toast";
  d.innerHTML=`<strong>${t}</strong><div>${b}</div>`;
  toastArea.appendChild(d);
  setTimeout(()=>d.remove(),3000);
}
function send(t,b){
  if(isWindows) toast(t,b);
  else if(Notification.permission==="granted")
    new Notification(t,{body:b});
}

/* ACTIONS */
function requestPermission(){
  Notification.requestPermission();
}
function sendOne(){
  send("Demo",msgInput.value||"Hello");
}

/* FAKE HACK DEMO */
let timers=[];
const ips=["185.23.11.42","91.204.16.8","45.133.192.77"];
const locs=["Moscow","Beijing","Berlin","Unknown"];
const msgs=[
  "New login detected",
  "Suspicious activity found",
  "Accessing private files",
  "Encrypting data",
  "System takeover complete"
];

function startHack(){
  stopAll();
  status.textContent="Attack in progress...";
  msgs.forEach((m,i)=>{
    timers.push(setTimeout(()=>{
      send("SECURITY ALERT",`${m}\nIP: ${ips[i%3]} (${locs[i%4]})`);
      bar.style.width=((i+1)/msgs.length*100)+"%";
      if(i===msgs.length-1) lockout();
    },i*1200));
  });
}

function lockout(){
  let n=10;
  lockout.style.display="flex";
  const iv=setInterval(()=>{
    countdown.textContent=n--;
    if(n<0){clearInterval(iv);}
  },1000);
}

function stopAll(){
  timers.forEach(t=>clearTimeout(t));
  timers=[];
  bar.style.width="0%";
  status.textContent="Stopped";
  lockout.style.display="none";
}
</script>

</body>
</html>
